#include <mega32.h>
#include <delay.h>

void main()
{
        unsigned char state = 0;
        char i;
    DDRA = 0xFF;

    while (1)
    {
        for ( i = 0; i < 16; i++)
        {
            if (i < 8) {
                state = (state << 1) | 0x01;
            } else {
                state = (state << 1);
            }
            PORTA = state;
            delay_ms(50);
        }
    }
}